{"version":3,"sources":["boy.png","components/Navbar.js","components/RoomCard.js","components/Home.js","components/LandingPage.js","components/userFunction.js","components/Login.js","components/Register.js","components/Profile.js","components/Camera.js","components/Runner.js","components/Room.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","Navbar","logOut","e","preventDefault","localStorage","removeItem","_this","props","history","push","loginRegLink","react_default","a","createElement","className","react_router_dom","to","userLink","href","onClick","this","type","data-toggle","data-target","aria-controls","aria-expanded","aria-label","id","usertoken","Component","withRouter","useStyles","makeStyles","card","minWidth","margin","padding","bullet","display","transform","title","fontSize","pos","marginBottom","SimpleCard","classes","Card","CardContent","Typography","variant","component","room","name","color","concat","player_num","CardActions","primary_k","Button","size","Home","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","newRoom","n","Date","toLocaleTimeString","roomName","window","prompt","axios","post","env","backend","headers","getItem","then","res","data","roomid","catch","err","alert","state","rooms","leaders","_this2","socket","openSocket","emit","on","setState","get","style","paddingTop","Box","textAlign","fontWeight","fontFamily","Grid","container","direction","justify","alignItems","map","leader","item","score","Divider","Fab","LandingPage","changeToSignUp","changeToSignIn","components_Home","role","register","newUser","first_name","last_name","email","password","status","includes","login","user","setItem","token","Login","onChange","defineProperty","target","value","onSubmit","undefined","success","noValidate","htmlFor","placeholder","Register","Profile","decoded","jwt_decode","userid","update","parseInt","src","headshot","width","Camera","setRef","webcam","getRandomizer","bottom","top","Math","floor","random","capture","canvas","getCanvas","ctx","getContext","imageDatac","getImageData","diff","count","i","length","abs","imageData","iData","ImageData","diffCanvas","document","putImageData","imageSrc","toDataURL","diffPixels","updateX","interval","setInterval","clearInterval","Paper","height","border","borderRadius","alt","react_webcam_default","audio","ref","screenshotFormat","videoConstraints","facingMode","Runner","index_es","translateX","info","x","friction","imgurl","Room","endpoint","pixel","round","old_x","players_info","end","step","countdown","newTimer","timer","judger","startTime","getTime","start","getElementsByClassName","getBoundingClientRect","movements","toConsumableArray","obj","new_rank","endplayersnum","forEach","movement","index","player","players","playerinfo","timing","rank","objectSpread","winner","match","params","console","log","enter","reqRoomInfo","leave","assertThisInitialized","amount","roominfo","onbeforeunload","active","playerid","new_x","_this3","spacing","xs","marginTop","marginLeft","components_Runner","components_Camera","App","components_Navbar","react_router","exact","path","Boolean","location","hostname","theme","createMuiTheme","palette","primary","blue","secondary","red","ReactDOM","render","MuiThemeProvider","src_App","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.cdf9c36d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/boy.d7fd9e0b.png\";","import React, { Component } from 'react';\r\nimport { Link, withRouter } from 'react-router-dom'\r\n\r\n\r\nclass Navbar extends Component {\r\n    logOut = e => {\r\n        e.preventDefault()\r\n        localStorage.removeItem('usertoken')\r\n        this.props.history.push(`/`);\r\n    }\r\n\r\n    render() {\r\n        const loginRegLink = (\r\n            <ul className=\"navbar-nav\">\r\n                <li className=\"nav-item\">\r\n                    <Link to=\"/login\" className=\"nav-link\">\r\n                        Login\r\n                    </Link>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                    <Link to=\"/register\" className=\"nav-link\">\r\n                        Register\r\n                    </Link>\r\n                </li>\r\n            </ul>\r\n        )\r\n        const userLink = (\r\n            <ul className=\"navbar-nav\">\r\n                <li className=\"nav-item\">\r\n                    <Link to=\"/profile\" className=\"nav-link\">\r\n                        User\r\n                    </Link>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                    {/* register the event so use <a> not <Link> */}\r\n                    <a href=\"#\" onClick={this.logOut} className=\"nav-link\">\r\n                        Logout\r\n                    </a>\r\n                </li>\r\n            </ul>\r\n        )\r\n        return (\r\n            <nav className=\"navbar navbar-expand-lg navbar-dark bg-dark\">\r\n                <button className=\"navbar-toggler\"\r\n                    type=\"button\"\r\n                    data-toggle=\"collapse\"\r\n                    data-target=\"#navbar1\"\r\n                    aria-controls=\"navbar1\"\r\n                    aria-expanded=\"false\"\r\n                    aria-label=\"Toggle navigation\">\r\n                    <span className=\"nav-toggle-icon\"></span>\r\n                </button>\r\n\r\n                <div className=\"collapse navbar-collapse justify-content-md-center\" id=\"navbar1\">\r\n                    <ul className=\"navbar-nav\">\r\n                        <li className=\"nav-item\">\r\n                            <Link to=\"/\" className=\"nav-link\">\r\n                                Home\r\n                        </Link>\r\n                        </li>\r\n                    </ul>\r\n                    {localStorage.usertoken ? userLink : loginRegLink}\r\n                </div>\r\n            </nav>\r\n        )\r\n    }\r\n}\r\n\r\n// use this HOC (withRouter) to solve the internal routing problem....\r\nexport default withRouter(Navbar);","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport {Link} from 'react-router-dom'\r\n\r\nconst useStyles = makeStyles({\r\n    card: {\r\n        minWidth: 240,\r\n        margin: '20px 15px',\r\n        padding: '20px'\r\n    },\r\n    bullet: {\r\n        display: 'inline-block',\r\n        margin: '0 2px',\r\n        transform: 'scale(0.8)',\r\n    },\r\n    title: {\r\n        fontSize: 14,\r\n    },\r\n    pos: {\r\n        marginBottom: 12,\r\n    },\r\n});\r\n\r\nexport default function SimpleCard(props) {\r\n    const classes = useStyles();\r\n    const bull = <span className={classes.bullet}>â€¢</span>;\r\n\r\n    return (\r\n        <Card className={classes.card}>\r\n            <CardContent>\r\n                <Typography variant=\"h5\" component=\"h2\">\r\n                    {props.room.name}\r\n                </Typography>\r\n                <Typography className={classes.pos} color=\"textSecondary\">\r\n                    {`${props.room.player_num} players waiting`}\r\n                </Typography>\r\n                {/* <Typography variant=\"body2\" component=\"p\"> */}\r\n                {/*         well meaning and kindly. */}\r\n                {/*     <br /> */}\r\n                {/*         {'\"a benevolent smile\"'} */}\r\n                {/* </Typography> */}\r\n            </CardContent>\r\n            <CardActions>\r\n                <Link to={`/rooms/${props.room.primary_k}`}><Button variant=\"outlined\" size=\"small\" color='primary'> \r\n                    ENTER\r\n                </Button></Link>\r\n            </CardActions>\r\n        </Card>\r\n    );\r\n}\r\n","import React, { Component } from 'react'\r\nimport {Link, withRouter} from 'react-router-dom'\r\nimport axios from 'axios'\r\nimport openSocket from 'socket.io-client'\r\nimport {\r\n    Grid,\r\n    Fab,\r\n    Typography,\r\n    Box,\r\n    Divider\r\n} from '@material-ui/core'\r\nimport RoomCard from './RoomCard'\r\n\r\nclass Home extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            rooms: [],\r\n            leaders: []\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.socket = openSocket(window.env.backend)\r\n        this.socket.emit('enter_home')\r\n        this.socket.on('update_rooms', data => {\r\n            this.setState({rooms: data})\r\n        })\r\n        axios.get(window.env.backend + 'rooms')\r\n            .then(res => {\r\n                this.setState({rooms: res.data})\r\n            })\r\n            .catch(err => {\r\n                alert('Error in getting rooms info')\r\n                debugger\r\n            })\r\n        axios.get(window.env.backend + 'highScore')\r\n            .then(res => {\r\n                this.setState({leaders: res.data})\r\n            })\r\n            .catch(err => {\r\n                alert('Error in getting highest scores')\r\n                debugger\r\n            })\r\n    }\r\n    componentWillUnmount() {\r\n        this.socket.emit('leave_home')    \r\n    }\r\n\r\n    newRoom = () => {\r\n        var d = new Date();\r\n        var n = d.toLocaleTimeString();\r\n        let roomName = window.prompt('New room name: ', n)\r\n        if (roomName) {\r\n            axios.post(window.env.backend + 'rooms', {roomName: roomName}, {headers: {id: localStorage.getItem('id')} })\r\n                .then(res => {\r\n                    this.props.history.push(`/rooms/${res.data.roomid}`)\r\n                })\r\n                .catch(err => {\r\n                    alert('Error in Home.js')\r\n                })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div style={{paddingTop: \"20px\"}}>\r\n                <Box textAlign=\"center\" fontWeight=\"fontWeightBold\" fontSize={36} fontFamily=\"Segoe UI\">\r\n                    Leaderboard\r\n                </Box>\r\n                <Grid\r\n                    container\r\n                    direction=\"row\"\r\n                    justify=\"center\"\r\n                    alignItems=\"center\"\r\n                    style={{\r\n                        margin: \"5px auto\",\r\n                        padding: \"0 100px\"\r\n                    }}\r\n                >\r\n                {\r\n                    this.state.leaders.map(leader => (\r\n                        <Grid item style={{margin: \"10px 15px\"}}>\r\n                            <Typography component=\"div\">\r\n                                <Box textAlign=\"center\" fontWeight=\"fontWeightRegular\" fontSize={22} fontFamily=\"Segoe UI\">\r\n                                    {leader.name}\r\n                                </Box>\r\n                                <Box textAlign=\"center\" fontWeight=\"fontWeightLight\" fontSize={14} fontFamily=\"Segoe UI\">\r\n                                    {`${leader.score} ms`}\r\n                                </Box>\r\n                            </Typography>\r\n                        </Grid>\r\n                    ))\r\n                }\r\n                </Grid>\r\n                <Divider style={{margin: \"15px\"}} />\r\n                <Fab\r\n                    variant=\"extended\"\r\n                    size=\"medium\"\r\n                    color=\"primary\"\r\n                    aria-label=\"Add\"\r\n                    onClick={this.newRoom}\r\n                    style={{\r\n                        margin: \"20px auto\",\r\n                        display: \"block\"\r\n                    }}\r\n                >\r\n                    NEW ROOM       \r\n                </Fab>\r\n                    <Grid\r\n                    container\r\n                    direction=\"row\"\r\n                    justify=\"flex-start\"\r\n                    alignItems=\"flex-start\"\r\n                >\r\n                {\r\n                    this.state.rooms.map(room => (\r\n                        <Grid item>\r\n                            <RoomCard \r\n                                room={room}\r\n                            />\r\n                        </Grid>\r\n                    ))\r\n                }\r\n                </Grid>\r\n            </div>                \r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(Home)\r\n\r\n","import React, { Component } from 'react'\r\nimport {withRouter} from 'react-router-dom'\r\nimport Home from './Home'\r\n\r\nclass LandingPage extends Component {\r\n    changeToSignUp = e => {\r\n        e.preventDefault();\r\n        this.props.history.push(`/register`);\r\n    }\r\n    changeToSignIn = e => {\r\n        e.preventDefault();\r\n        this.props.history.push(`/login`);\r\n    }\r\n    \r\n    render() {\r\n        return ( \r\n            localStorage.usertoken ?\r\n            <Home />\r\n            :\r\n            <div className=\"container\">\r\n                <div className=\"jumbotron mt-5\">\r\n                    <h1 className=\"display-4\">Motion Run</h1>\r\n                    <p className=\"lead\">A competition platform for motion-controlled racing game</p>\r\n                    <hr className=\"my-4\"></hr>\r\n                        <p className=\"lead\">\r\n                            <a className=\"btn btn-primary btn-lg\" href=\"#\" role=\"button\" onClick={this.changeToSignUp}>Sign up now!</a>\r\n                            <span></span>\r\n                            <a href=\"#\" className=\"btn btn-link\" role=\"button\" onClick={this.changeToSignIn}>Sign in</a>\r\n                        </p>\r\n                </div>\r\n\r\n\r\n            </div>\r\n                )\r\n            }\r\n        } \r\n        \r\nexport default withRouter(LandingPage)\r\n","import axios from 'axios'\nimport jwt from 'jwt-simple'\n\nexport const register = newUser => {\n    let data = {\n        first_name: newUser.first_name,\n        last_name: newUser.last_name,\n        email: newUser.email,\n        password: newUser.password\n    }\n\n    return axios\n        .post(window.env.backend + 'users/register', data)\n        .then(res => {\n            if (res.data.status && res.data.status.includes('registered')) {\n                alert(\"Registered\")\n            } else {\n                alert('Register fail. Either the email already registered or the server is down')\n            }\n        })\n        .catch(err => {alert(\"Register fail due to network or database error\")})\n}\n\n\nexport const login = user => {\n    let data = {        \n        email: user.email,\n        password: user.password\n    }\n\n    return axios\n        .post(window.env.backend + 'users/login', data)\n        .then(res => {\n            localStorage.setItem('usertoken', res.data.token)\n            localStorage.setItem('id', res.data.primary_k);\n            return res.data.token\n        })\n        .catch(err => {debugger})\n}\n\n","import React, { Component } from 'react';\r\nimport { login } from './userFunction';\r\n\r\n\r\nclass Login extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            email: '',\r\n            password: '',\r\n            success: 1\r\n        }\r\n\r\n        //this.onChange = this.onChange.bind(this);\r\n        //this.onSubmit = this.onSubmit.bind(this);\r\n    }\r\n\r\n    onChange = (e) => {\r\n        this.setState({ [e.target.name]: e.target.value });\r\n    }\r\n\r\n    onSubmit = (e) => {\r\n        e.preventDefault();\r\n        const user = {\r\n            email: this.state.email,\r\n            password: this.state.password\r\n        }\r\n\r\n        login(user).then(res => {\r\n            if (res === localStorage.usertoken && res != undefined) {\r\n                this.setState({success: 1});\r\n                this.props.history.push(`/`)\r\n            } else {\r\n                this.setState({success: 0});\r\n            }\r\n        })\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-6 mt-5 mx-auto\">\r\n                        <form noValidate onSubmit={this.onSubmit}>\r\n                            <h1 className=\"h3 mb-3 font-weight-normal\">\r\n                                Please sign in\r\n                            </h1>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"email\">Email Address</label>\r\n                                <input type=\"email\"\r\n                                    className=\"form-control\"\r\n                                    name=\"email\"\r\n                                    placeholder=\"Enter email\"\r\n                                    value={this.state.email}\r\n                                    onChange={this.onChange}\r\n                                />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label htmlFor=\"password\">Password</label>\r\n                                <input type=\"password\"\r\n                                    className=\"form-control\"\r\n                                    name=\"password\"\r\n                                    placeholder=\"Enter Password\"\r\n                                    value={this.state.password}\r\n                                    onChange={this.onChange}\r\n                                />\r\n                            </div>\r\n                            <button className=\"btn btn-lg btn-primary btn-block\"\r\n                                type=\"submit\">\r\n                                Sign in\r\n                            </button>\r\n                        </form>\r\n                        <br></br>\r\n                        {(this.state.success)?\r\n                            null\r\n                            : \r\n                              <div className=\"alert alert-danger\">\r\n                                <strong>Wrong Password or Invalid Account</strong> please try it again or go sign up!\r\n                              </div>}\r\n\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Login;\r\n","import React, { Component } from 'react';\nimport { register } from './userFunction';\n\n\nclass Register extends Component {\n    constructor() {\n        super();\n        this.state = {\n            first_name: '',\n            last_name: '',\n            email: '',\n            password: ''\n        }\n\n        //this.onChange = this.onChange.bind(this);\n        //this.onSubmit = this.onSubmit.bind(this);\n    }\n\n    onChange = (e) => {\n        this.setState({ [e.target.name]: e.target.value });\n    }\n\n    onSubmit = (e) => {\n        e.preventDefault();\n        const user = {\n            first_name: this.state.first_name,\n            last_name: this.state.last_name,\n            email: this.state.email,\n            password: this.state.password\n        }\n\n        register(user).then(res => {\n            this.props.history.push(`/login`)\n        })\n\n    }\n\n    render() {\n        return (\n            <div className=\"container\">\n                <div className=\"row\">\n                    <div className=\"col-md-6 mt-5 mx-auto\">\n                        <form noValidate onSubmit={this.onSubmit}>\n                            <h1 className=\"h3 mb-3 font-weight-normal\">\n                                Sign up!\n                            </h1>\n                            <div className=\"form-group\">\n                                <label htmlFor=\"first_name\">First Name</label>\n                                <input type=\"text\"\n                                    className=\"form-control\"\n                                    name=\"first_name\"\n                                    placeholder=\"Enter First Name\"\n                                    value={this.state.first_name}\n                                    onChange={this.onChange}\n                                />\n                            </div>\n                            <div className=\"form-group\">\n                                <label htmlFor=\"last_name\">Last Name</label>\n                                <input type=\"text\"\n                                    className=\"form-control\"\n                                    name=\"last_name\"\n                                    placeholder=\"Enter Last Name\"\n                                    value={this.state.last_name}\n                                    onChange={this.onChange}\n                                />\n                            </div>\n                            <div className=\"form-group\">\n                                <label htmlFor=\"email\">Email Address</label>\n                                <input type=\"email\"\n                                    className=\"form-control\"\n                                    name=\"email\"\n                                    placeholder=\"Enter email\"\n                                    value={this.state.email}\n                                    onChange={this.onChange}\n                                />\n                            </div>\n                            <div className=\"form-group\">\n                                <label htmlFor=\"password\">Password</label>\n                                <input type=\"password\"\n                                    className=\"form-control\"\n                                    name=\"password\"\n                                    placeholder=\"Enter Password\"\n                                    value={this.state.password}\n                                    onChange={this.onChange}\n                                />\n                            </div>\n\n                            <button className=\"btn btn-lg btn-primary btn-block\"\n                                type=\"submit\">\n                                Register\n                            </button>\n                        </form>\n\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Register;\n\n","import React, { Component } from 'react';\r\nimport headshot from '../boy.png'\r\nimport axios from 'axios'\r\nimport jwt_decode from 'jwt-decode'\r\n\r\nclass Profile extends Component {\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            first_name: 'no record',\r\n            last_name: 'no record',\r\n            email: 'no record',\r\n            score: 'no record'\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (localStorage.usertoken) {\r\n            const token = localStorage.usertoken\r\n            const decoded = jwt_decode(token)\r\n            const userid = decoded.id\r\n            let update = {\r\n                first_name: decoded.first_name,\r\n                last_name: decoded.last_name,\r\n                email: decoded.email,\r\n            }\r\n            axios.get(window.env.backend + 'score', {headers: {id: parseInt(userid)} })\r\n                .then(res => {\r\n                    update.score = res.data.score\r\n                    this.setState(update)  \r\n                })\r\n                .catch(err => {\r\n                    alert('Error when getting profile')\r\n                    debugger\r\n                })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"container\">\r\n                <br></br>\r\n                <div className=\"row no-gutters\">\r\n                    <div className=\"col-6 col-md-4\">\r\n                        <table className=\"table col-md-6 mx-auto\">\r\n                            <tbody>\r\n                                <tr className=\"\">\r\n                                        <img src={headshot} className=\"media-object\" style={{width:'120px'}}/>\r\n                                </tr>\r\n                                <br/> <br/> \r\n                                <tr>\r\n                                    <td>Frist Name</td>\r\n                                    <td>{this.state.first_name}</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>Last Name</td>\r\n                                    <td>{this.state.last_name}</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>Email</td>\r\n                                    <td>{this.state.email}</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td>Fastest Record</td>\r\n                                    <td>{this.state.score ? `${this.state.score} ms` : 'no record'}</td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n\r\n                    </div>\r\n                </div>\r\n                {/* <div className=\"jumbotron mt-5\">\r\n                    <div className=\"col-sm-8 mx-auto\">\r\n                        <h1 className=\"text-center\">\r\n                            Profile\r\n                        </h1>\r\n                    </div>\r\n\r\n                    <table className=\"table col-md-6 mx-auto\">\r\n                        <tbody>\r\n                            <tr>\r\n                                <td>Frist Name</td>\r\n                                <td>{this.state.first_name}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>Last Name</td>\r\n                                <td>{this.state.last_name}</td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>Email</td>\r\n                                <td>{this.state.email}</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div> */}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Profile;\r\n","import React, { Component } from \"react\";\r\nimport Webcam from \"react-webcam\";\r\nimport {Paper} from \"@material-ui/core\"\r\n\r\nclass Camera extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            imageSrc: \"\",\r\n            imageData: [],\r\n            diffPixels: 0,\r\n        };\r\n    }\r\n\r\n    setRef = webcam => {\r\n        this.webcam = webcam;\r\n    };\r\n\r\n    getRandomizer = (bottom, top) => {\r\n        return Math.floor(Math.random() * (1 + top - bottom)) + bottom;\r\n    };\r\n    capture = () => {\r\n        const canvas = this.webcam.getCanvas();\r\n        if (canvas != null) {\r\n            let ctx = canvas.getContext(\"2d\");\r\n            let imageDatac = ctx.getImageData(0, 0, 350, 350).data;\r\n            let diff = ctx.getImageData(0, 0, 350, 350).data;\r\n            let count = 0;\r\n            for (var i = 0; i < diff.length; i++) {\r\n                let n = Math.abs(diff[i] - this.state.imageData[i]);\r\n                diff[i] = 255 - n;\r\n                if (diff[i] < 150) count++;\r\n            }\r\n            let iData = new ImageData(diff, 350, 350);\r\n            const diffCanvas = document.createElement(\"canvas\");\r\n            let diffConrtext = diffCanvas.getContext(\"2d\");\r\n            diffConrtext.putImageData(iData, 0, 0);\r\n            this.setState(\r\n                {\r\n                    imageData: imageDatac,\r\n                    imageSrc: diffCanvas.toDataURL(),\r\n                    diffPixels: count\r\n                },\r\n                this.props.updateX(this.state.diffPixels),\r\n            );\r\n        }\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.interval = setInterval(() => this.capture(), 10);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearInterval(this.interval);\r\n    }\r\n\r\n    render() {\r\n        const videoConstraints = {\r\n            facingMode: \"user\"\r\n        };\r\n        return (\r\n            <Paper style={{padding: \"25px\", width: \"350px\", height: \"470px\", margin: \"15px\"}}>\r\n                { this.state.imageSrc && \r\n                    <img\r\n                        style={{\r\n                            width: \"300px\",\r\n                            display: \"block\",\r\n                            border: \"solid gray 1px\",\r\n                            borderRadius: \"5px\",\r\n                        }}\r\n                        src={this.state.imageSrc}\r\n                        alt=\"loading...\"\r\n                    />\r\n                }\r\n                <Webcam\r\n                    audio={false}\r\n                    height={300}\r\n                    ref={this.setRef}\r\n                    screenshotFormat=\"image/jpeg\"\r\n                    width={300}\r\n                    videoConstraints={videoConstraints}\r\n                />\r\n            </Paper>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Camera;\r\n\r\n","import React, { Component } from \"react\";\r\nimport { Animate } from \"react-rebound\";\r\nimport {\r\n    Paper,\r\n} from '@material-ui/core'\r\nimport './Runner.css'\r\n\r\nfunction Runner(props) {\r\n    return (\r\n        <Paper style={{width: \"700px\", padding: \"10px\"}}>\r\n            <span className={`gif-start`}></span>\r\n            <Animate translateX={props.info.x} friction={80}>\r\n                <img className={`gif-now`} style={{width: \"100px\"}} src={`${window.env.backend}gifs/${props.info.imgurl}.gif`} alt=\"loading...\" />\r\n            </Animate>\r\n        </Paper>\r\n    )\r\n}\r\n\r\nexport default Runner;\r\n\r\n\r\n","import React, { Component } from 'react'\r\nimport {Link, withRouter} from 'react-router-dom'\r\nimport openSocket from 'socket.io-client'\r\nimport {\r\n    Typography,\r\n    Box,\r\n    Divider,\r\n    Fab,\r\n    Grid,\r\n    Paper,\r\n} from '@material-ui/core'\r\nimport './Room.css'\r\n\r\nimport { Animate } from \"react-rebound\"\r\nimport Camera from './Camera'\r\nimport Runner from './Runner'\r\nimport axios from 'axios'\r\n\r\nclass Room extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            roominfo: null,\r\n            players: [],\r\n            timer: 3,\r\n            players_info: {},\r\n            endplayersnum: 0,\r\n        }\r\n        this.end = false\r\n        this.socket = undefined\r\n        this.userid = localStorage.getItem('id')\r\n        this.endpoint = 500\r\n    } \r\n    \r\n    componentDidMount() {\r\n        window.onbeforeunload = () => {\r\n            console.log('onbeforeunload')\r\n            // debugger\r\n            this.leave()\r\n        }\r\n\r\n        // Handling socket\r\n        this.socket = openSocket(window.env.backend)\r\n        if (this.socket !== undefined) {\r\n            this.socket.on('err', data => {\r\n                console.log(data)\r\n                this.props.history.push('/')\r\n            })\r\n            this.socket.on('resRoomInfo', data => {\r\n                this.setState({roominfo: data})\r\n            })\r\n            this.socket.on('kickout', data => {\r\n                alert('This room is not available anymore')\r\n                this.props.history.push('/')\r\n            })\r\n            this.socket.on('players', data => {\r\n                this.setState({players: data})\r\n            })\r\n            this.socket.on('start', data => {\r\n                let info = {}\r\n                // initialization\r\n                this.state.players.forEach(player => {\r\n                    info[player.id] = {\r\n                        x: 0,\r\n                        imgurl: Math.floor(Math.random() * 15) + 1\r\n                    }\r\n                })\r\n                this.setState(state => ({roominfo: {...state.roominfo, active: true}, players_info: info}))\r\n                this.interval = window.setInterval(() => {this.countdown()}, 1000)\r\n            })\r\n            this.socket.on('update', data => {\r\n                let playerid = parseInt(data.id)\r\n                this.setState(state => {\r\n                    let info = state.players_info[playerid]\r\n                    if (info) {\r\n                        let old_x = info.x\r\n                        let new_x = data.step > old_x ? data.step : old_x\r\n                        info.x = new_x\r\n                    }\r\n                    return state\r\n                })\r\n            })\r\n\r\n            // enter the room\r\n            this.reqRoomInfo()\r\n            this.enter()            \r\n        } else {\r\n            alert('Can not connect to server via Socket.io')\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        // leave the room\r\n        let id = parseInt(this.userid)\r\n        let ids = this.state.players.map(player => player.id)\r\n        if (ids.includes(id)) {\r\n            console.log('componentWillUnmount')\r\n            // debugger\r\n            this.leave()\r\n        }\r\n        window.onbeforeunload = null \r\n    }\r\n    \r\n    updateX = (diffPixels) => {\r\n        let threshold = 10\r\n        let endpoint = this.endpoint\r\n        let pixel = Math.round(diffPixels / 1000)\r\n        pixel = pixel <= threshold ? pixel : threshold\r\n        \r\n        if (process.env.NODE_ENV === 'development') {\r\n            pixel *= 100\r\n        }\r\n        else {\r\n            pixel *= 5 \r\n        }\r\n\r\n        let old_x = this.state.players_info[this.userid].x\r\n        if (diffPixels && !this.end) {\r\n            this.step(old_x + pixel)\r\n        } \r\n    };\r\n    \r\n    countdown = () => {\r\n        this.setState(state => {\r\n            let newTimer = state.timer - 1\r\n            if (newTimer === 0) {\r\n                window.clearInterval(this.interval)\r\n                this.interval = window.setInterval(this.judger, 10)\r\n                this.startTime = new Date().getTime()\r\n            }\r\n            return {timer: newTimer}\r\n        })\r\n    }\r\n    \r\n    judger = () => {\r\n        let start = document.getElementsByClassName(`gif-start`)[0].getBoundingClientRect().x\r\n        let movements = [...document.getElementsByClassName(`gif-now`)].map(obj => obj.getBoundingClientRect().x - start)\r\n        this.setState(state => {\r\n            let new_rank = state.endplayersnum + 1\r\n            let update = {}\r\n            movements.forEach((movement, index) => {\r\n                if (movement >= this.endpoint) {\r\n                    let player = state.players[index]\r\n                    let playerinfo = state.players_info[player.id]\r\n                    let timing = new Date().getTime() - this.startTime\r\n                    if (!playerinfo.rank) {\r\n                        update.players_info = {\r\n                            ...state.players_info,\r\n                            [player.id]: {\r\n                                ...playerinfo,\r\n                                rank: new_rank,\r\n                                timing: timing\r\n                            }\r\n                        }\r\n                        update.endplayersnum = new_rank\r\n                    }\r\n                    if (!state.winner) {\r\n                        update.winner = player.name\r\n                    }\r\n                    if (!this.end && state.players[index].id == this.userid) {\r\n                        this.end = true\r\n                        let userid = this.userid \r\n                        let roomid = this.props.match.params.roomid\r\n                        axios.post(window.env.backend + 'record', {roomid: roomid, score: parseInt(timing)}, {headers: {id: userid} })\r\n                            .then(res => {\r\n                                console.log('Update successes')\r\n                            })\r\n                            .catch(err => {\r\n                                alert('Error when posting record')\r\n                            })\r\n                    }\r\n                }\r\n            })\r\n            return update\r\n        })\r\n    }\r\n\r\n    enter = () => {\r\n        let userid = this.userid \r\n        let roomid = this.props.match.params.roomid\r\n        if (userid === 'undefined' || roomid === undefined) {\r\n            alert('Data not complete')\r\n        } else {\r\n            this.socket.emit('enter', {\r\n                userid: userid, \r\n                roomid: roomid\r\n            })\r\n        }\r\n    }\r\n    \r\n    reqRoomInfo = () => {\r\n        let roomid = this.props.match.params.roomid\r\n        if (roomid === undefined) {\r\n            alert('Data not complete')\r\n        } else {\r\n            this.socket.emit('reqRoomInfo', {\r\n                roomid: roomid\r\n            })\r\n        }\r\n    }\r\n\r\n    leave = () => {\r\n        // debugger\r\n        console.log('Leave')\r\n        let userid = this.userid \r\n        let roomid = this.props.match.params.roomid\r\n        if (userid === 'undefined' || roomid === undefined) {\r\n            alert('Data not complete')\r\n        } else {\r\n            let tmp = this\r\n            this.socket.emit('leave', {\r\n                userid: userid,\r\n                roomid: roomid\r\n            })\r\n        }\r\n        window.clearInterval(this.interval)\r\n    }\r\n    \r\n    start = () => {\r\n        this.socket.emit('start', {roomid: this.props.match.params.roomid})\r\n    }\r\n\r\n    step = (amount) => { \r\n        if (this.state.timer === 0) {\r\n            this.socket.emit('step', {\r\n                roomid: this.props.match.params.roomid,\r\n                userid: this.userid,\r\n                step: amount\r\n            })\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return ( !this.state.roominfo ? \r\n            <h3>Loading</h3>\r\n            :\r\n            !this.state.roominfo.active ?\r\n                <div>\r\n                    <Fab\r\n                        variant=\"extended\"\r\n                        size=\"medium\"\r\n                        color=\"primary\"\r\n                        aria-label=\"Add\"\r\n                        onClick={this.start}\r\n                        style={{\r\n                            margin: \"20px auto\",\r\n                            display: \"block\"\r\n                        }}\r\n                    >\r\n                        START    \r\n                    </Fab>\r\n                    <Typography component=\"div\">\r\n                        <Box className=\"title\" textAlign=\"center\" fontWeight=\"fontWeightLight\" fontSize={22} fontFamily=\"Segoe UI\">\r\n                            Room Name\r\n                        </Box>\r\n                        <Box className=\"content\" textAlign=\"center\" fontWeight=\"fontWeightHeavy\" fontSize={60} fontFamily=\"Segoe UI\">\r\n                            {this.state.roominfo.name}\r\n                        </Box>\r\n                        <Divider className=\"divider\" />\r\n                        <Box className=\"title\" textAlign=\"center\" fontWeight=\"fontWeightLight\" fontSize={22} fontFamily=\"Segoe UI\">\r\n                            Players\r\n                        </Box>\r\n                        {\r\n                            this.state.players.map(player => (\r\n                                <Box className=\"content\" textAlign=\"center\" fontWeight=\"fontWeightHeavy\" fontSize={36} fontFamily=\"Segoe UI\">\r\n                                    {player.name}\r\n                                </Box>\r\n                            ))\r\n                        }\r\n                    </Typography>\r\n                </div>\r\n                :\r\n                <div>\r\n                    <Grid container spacing={3}>\r\n                        {\r\n                            this.state.timer !== 0 ?\r\n                                <Grid item xs={8} style={{marginTop: \"50px\"}}>\r\n                                {\r\n                                    <Typography component=\"div\">\r\n                                        <Box textAlign=\"center\" fontWeight=\"fontWeightBold\" fontSize={48} fontFamily=\"Segoe UI\">\r\n                                            ARE YOU READY\r\n                                        </Box>\r\n                                        <Box textAlign=\"center\" fontWeight=\"fontWeightBold\" fontSize={200} fontFamily=\"Segoe UI\">\r\n                                            {this.state.timer}\r\n                                        </Box>\r\n                                    </Typography>\r\n                                }\r\n                                </Grid>\r\n                                :\r\n                                <Grid item xs={8}>\r\n                                    <Grid\r\n                                        container\r\n                                        direction=\"column\"\r\n                                        justify=\"flex-start\"\r\n                                        alignItems=\"center\"\r\n                                    >\r\n                                        {\r\n                                            this.state.players.map(player => (\r\n                                                <Grid item style={{marginTop: \"30px\"}}>\r\n                                                    <h3 style={{display: \"inline-block\"}}><strong>{player.name}</strong></h3>\r\n                                                    { this.state.players_info[player.id].rank &&\r\n                                                            <span>\r\n                                                                <h3 style={{display: \"inline-block\", color: \"red\", fontWeight: 900, marginLeft: \"15px\"}}>\r\n                                                                    {`rank ${this.state.players_info[player.id].rank}`}\r\n                                                                </h3>\r\n                                                                {\r\n                                                                    player.id == this.userid && \r\n                                                                        <h3 style={{display: \"inline-block\", color: \"gray\", fontWeight: 900, marginLeft: \"15px\"}}>\r\n                                                                            {`${this.state.players_info[player.id].timing} ms`}\r\n                                                                        </h3>\r\n                                                                }\r\n                                                            </span>\r\n                                                    }\r\n                                                    <Runner info={this.state.players_info[player.id]} playerid={player.id} />\r\n                                                </Grid>        \r\n                                            ))\r\n                                        }\r\n                                </Grid>\r\n                                </Grid>\r\n                        }\r\n                        <Grid item xs={4} style={{marginTop: \"30px\"}}>\r\n                            <Grid\r\n                                container\r\n                                direction=\"column\"\r\n                                justify=\"flex-start\"\r\n                                alignItems=\"center\"\r\n                                spacing={2}\r\n                            >\r\n                                {\r\n                                    this.state.winner && \r\n                                    <Grid item>\r\n                                        <Paper>\r\n                                            <Typography component=\"div\">\r\n                                                <Box style={{width: \"350px\"}} textAlign=\"center\" fontWeight=\"fontWeightLight\" fontSize={22} fontFamily=\"Segoe UI\">\r\n                                                    WINNER\r\n                                                </Box>\r\n                                                <Box style={{width: \"350px\"}} textAlign=\"center\" fontWeight=\"fontWeightBold\" fontSize={40} fontFamily=\"Segoe UI\">\r\n                                                    {this.state.winner}\r\n                                                </Box>\r\n                                            </Typography>\r\n                                        </Paper>\r\n                                    </Grid>\r\n                                }        \r\n                                <Grid item>\r\n                                    <Camera updateX={this.updateX} />        \r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                </div>\r\n        )\r\n    }\r\n} \r\n        \r\nexport default withRouter(Room)\r\n\r\n\r\n","import React, {Component} from 'react';\r\nimport {BrowserRouter as Router, Route} from 'react-router-dom'\r\n\r\nimport Navbar from './components/Navbar'\r\nimport LandingPage from './components/LandingPage'\r\nimport Login from './components/Login'\r\nimport Register from './components/Register'\r\nimport Profile from './components/Profile'\r\nimport Room from './components/Room'\r\nimport axios from 'axios'\r\n\r\n\r\nclass App extends Component{\r\n  render(){\r\n    return(\r\n      <Router>\r\n        <div className=\"App\">\r\n          <Navbar />\r\n          <div className=\"container\">\r\n            <Route exact path=\"/\" component={LandingPage} />\r\n            <Route exact path = \"/register\" component={Register} />\r\n            <Route exact path = \"/login\" component={Login} />\r\n            <Route exact path = \"/profile\" component={Profile} />\r\n            <Route exact path = \"/rooms/:roomid\" component={Room} />\r\n          </div>\r\n        \r\n\r\n        </div>\r\n\r\n      </Router>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles';\r\nimport {blue, red} from '@material-ui/core/colors';\r\n\r\n// Set up environment variables\r\nif (!process.env.NODE_ENV || process.env.NODE_ENV === 'development') {\r\n    console.log('dev')\r\n    window.env = {\r\n        backend: `http://${window.location.hostname}:5000/`\r\n    }\r\n} else {\r\n    console.log('prduction')\r\n    window.env = {\r\n        backend: `/`\r\n    }\r\n}\r\n\r\n// Set up Material-ui theme\r\nconst theme = createMuiTheme({\r\n    palette: {\r\n        primary: blue,\r\n        secondary: red,\r\n    },\r\n});\r\n\r\n// Render the DOM\r\nReactDOM.render(\r\n    <MuiThemeProvider theme={theme}>\r\n        <App />\r\n    </MuiThemeProvider>,\r\ndocument.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}